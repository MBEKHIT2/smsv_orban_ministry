
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SMSV Orban Ministry</title>
  <link rel="manifest" href="manifest.webmanifest" />
  <style>
    :root { --bg:#0f172a; --card:#111827; --text:#e5e7eb; --accent:#14b8a6; --muted:#9ca3af; }
    body { margin:0; background:var(--bg); color:var(--text); font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
    header { display:flex; align-items:center; gap:1rem; padding:1rem; border-bottom:1px solid #334155; }
    header img { width:64px; height:64px; object-fit:cover; border-radius:8px; background:#1f2937; }
    h1 { font-size:1.5rem; margin:0; }
    main { max-width:900px; margin:0 auto; padding:1rem; }
    .card { background:var(--card); border:1px solid #334155; border-radius:12px; padding:1rem; margin-bottom:1rem; }
    label { display:block; margin-bottom:.5rem; color:var(--muted); }
    select { width:100%; padding:.75rem; border-radius:10px; border:1px solid #374151; background:#0b1020; color:var(--text); }
    .grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(240px, 1fr)); gap:1rem; }
    .metric { background:#0b1020; border:1px solid #1f2937; border-radius:10px; padding:.75rem; }
    .metric h3 { margin:.25rem 0; font-size:1rem; color:var(--muted); }
    .metric p { margin:0; font-size:1.25rem; font-weight:600; }
    .note { margin-top:.75rem; color:#fbbf24; }
    .footer { margin-top:2rem; color:var(--muted); font-size:.85rem; }
    .toggle { display:flex; gap:1rem; align-items:center; }
    .toggle input { transform:scale(1.3); }
  </style>
</head>
<body>
  <header>
    <img src="orban.png" alt="Orban image" />
    <h1>SMSV Orban Ministry</h1>
  </header>

  <main>
    <div class="card">
      <label for="daySelect">Pick the day</label>
      <select id="daySelect"></select>
      <div class="toggle" style="margin-top:1rem">
        <label>Yeast ratio</label>
        <label><input type="radio" name="yeast" value="3" checked /> Standard (3 g/kg)</label>
        <label><input type="radio" name="yeast" value="4" /> Winter (4 g/kg)</label>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <h2>Summary</h2>
        <div class="grid">
          <div class="metric"><h3>Number of batches</h3><p id="batches">-</p></div>
          <div class="metric"><h3>Batch total weight</h3><p id="batchTotal">-</p></div>
          <div class="metric"><h3>Orban quantity</h3><p id="orbanQty">-</p></div>
          <div class="metric"><h3>Orban size</h3><p id="orbanSize">-</p></div>
        </div>
      </div>

      <div class="card">
        <h2>Step 1 – Scalding Paste (Batch 1)</h2>
        <div class="grid">
          <div class="metric"><h3>Boiling water</h3><p id="boilWater">-</p></div>
          <div class="metric"><h3>Flour</h3><p id="pasteFlour">-</p></div>
          <div class="metric"><h3>Paste total</h3><p id="pasteTotal">-</p></div>
        </div>
        <p class="note">
          <strong>Mix for 15 minutes.</strong> Then wait <strong>15 minutes minimum</strong> for paste to cool down before mixing Step 2.
        </p>
      </div>

      <div class="card">
        <h2>Step 2 – Dough Mixture (per batch)</h2>
        <div class="grid">
          <div class="metric"><h3>Yeast</h3><p id="yeast">-</p></div>
          <div class="metric"><h3>Flour</h3><p id="flourKg">-</p></div>
          <div class="metric"><h3>Water</h3><p id="waterMl">-</p></div>
          <div class="metric"><h3>Total (without paste)</h3><p id="step2Total">-</p></div>
        </div>
      </div>
    </div>

    <div class="footer">Works offline. To change the image, place <code>orban.png</code> in this folder.</div>
  </main>

  <script>
    // === Replace this JSON block with your records that we generated from the Excel ===
    // Example structure:
    // const DATA = {
    //   "Saturday": { batches: 2, paste_weight_g: 6345, boiling_water_g: 3645, paste_flour_g: 2700,
    //                 batch_total_weight_g: 21150, step2_total_without_paste_g: 14805,
    //                 yeast_3g_perkg_g: 63.45, yeast_4g_perkg_g: 84.6,
    //                 step2_flour_kg: 10, step2_water_ml: 6500,
    //                 orban_qty: 28, orban_weight_g: 350 },
    //   ... (Monday, Wednesday, Friday)
    // };
    const DATA = ___RECORDS___;

    function fmt(n, unit) {
      const v = Number(n);
      return Number.isFinite(v)
        ? new Intl.NumberFormat(undefined, { maximumFractionDigits: 2 }).format(v) + (unit ? ` ${unit}` : '')
        : '-';
    }

    function populateDays() {
      const sel = document.getElementById('daySelect');
      sel.innerHTML = '';
      Object.keys(DATA).forEach(d => {
        const opt = document.createElement('option');
        opt.value = d; opt.textContent = d;
        sel.appendChild(opt);
      });
      sel.value = Object.keys(DATA)[0];
      update();
    }

    function currentYeastValue(day) {
      const r = Array.from(document.querySelectorAll('input[name=yeast]')).find(x => x.checked)?.value || '3';
      return r === '4' ? DATA[day].yeast_4g_perkg_g : DATA[day].yeast_3g_perkg_g;
    }

    function update() {
      const day = document.getElementById('daySelect').value;
      const rec = DATA[day];

      // Summary
      document.getElementById('batches').textContent    = fmt(rec.batches);
      document.getElementById('batchTotal').textContent = fmt(rec.batch_total_weight_g, 'g');
      document.getElementById('orbanQty').textContent   = fmt(rec.orban_qty);
      document.getElementById('orbanSize').textContent  = fmt(rec.orban_weight_g, 'g');

      // Step 1
      document.getElementById('boilWater').textContent  = fmt(rec.boiling_water_g, 'g / ml');
      document.getElementById('pasteFlour').textContent = fmt(rec.paste_flour_g, 'g');
      document.getElementById('pasteTotal').textContent = fmt(rec.paste_weight_g, 'g');

      // Step 2
      document.getElementById('yeast').textContent      = fmt(currentYeastValue(day), 'g');
      document.getElementById('flourKg').textContent    = fmt(rec.step2_flour_kg, 'kg');
      document.getElementById('waterMl').textContent    = fmt(rec.step2_water_ml, 'ml');
      document.getElementById('step2Total').textContent = fmt(rec.step2_total_without_paste_g, 'g');
    }

    document.addEventListener('DOMContentLoaded', () => {
      populateDays();
      document.getElementById('daySelect').addEventListener('change', update);
      document.querySelectorAll('input[name=yeast]').forEach(r => r.addEventListener('change', update));
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('./service-worker.js').catch(()=>{});
      }
    });
  </script>
</body>
</html>
``
